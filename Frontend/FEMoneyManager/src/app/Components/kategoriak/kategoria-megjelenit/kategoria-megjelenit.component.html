<app-kategoria-felvetel></app-kategoria-felvetel>
<div class="w-full max-w-6xl mx-auto px-3 pb-6">
  <div class="border-2 border-gray-500/50 rounded-lg shadow-lg p-6">
    <div class="mb-6">
      <h2 class="h4-text mb-1">Kategóriák megjelenítése</h2>
    </div>

    <div class="overflow-x-auto">
      <table class="w-full">
        <thead>
          <tr class="border-b border-gray-200">
            <th class="text-center py-3 px-2 mini-text-no-center uppercase">
              Név
            </th>
            <th class="text-center py-3 px-2 mini-text-no-center uppercase">
              Műveletek
            </th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-100 bg-slate-100/20 m-2">
          <tr *ngIf="loading">
            <td colspan="2" class="py-6 text-left mini-text">Betöltés...</td>
          </tr>
          <tr *ngIf="!loading && error">
            <td colspan="2" class="py-6 text-left text-red-600 mini-text">{{ error }}</td>
          </tr>
          <tr *ngIf="!loading && !error && allCategories.length === 0">
            <td colspan="2" class="py-6 text-left mini-text">Nincsenek kategóriák</td>
          </tr>
          <tr *ngFor="let category of allCategories" class="transition-colors duration-150 text-2xl">
            <td class="py-3 px-2 mini-text text-left">{{ category.name }}</td>
            <td class="py-3 px-2 text-left">
              <div class="flex justify-start space-x-1">
                <button class="action-button-ugly" (click)="editCategory(category)" title="Szerkesztés">
                  <img src="https://cdn-icons-png.freepik.com/512/16861/16861386.png?ga=GA1.1.1194572750.1761656981" alt="Szerkesztés" class="w-10 h-10">
                </button>
                <button class="action-button-ugly text-red-600" (click)="deleteCategory(category)" title="Törlés">
                  <img src="https://cdn-icons-png.freepik.com/512/9213/9213913.png?ga=GA1.1.1194572750.1761656981" alt="Törlés" class="w-10 h-10">
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="mt-8 flex items-center justify-between">
      <div class="text-sm text-gray-700">
        {{ allCategories.length }} kategória
      </div>
      <button class="form-button-ugly" type="button" (click)="refreshCategories()">Frissítés</button>
    </div>
  </div>
</div>


